{"version":3,"sources":["webpack/bootstrap e68afac127d552796f99","./js/main.js","./js/linedash-view.js","./js/linedash.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;ACLD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,kBAAiB,eAAe;AAChC,oBAAmB,eAAe;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,kBAAiB,6BAA6B;AAC9C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAiB,4BAA4B;AAC7C;AACA;AACA;;AAEA,kBAAiB,iCAAiC;AAClD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;;;;;;;AC9GA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAiB,oBAAoB;AACrC;AACA;AACA;;AAEA;AACA,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e68afac127d552796f99\n **/","var View = require(\"./linedash-view.js\");\n\n$(function () {\n  var rootElement = $(\".linedash\");\n  new View(rootElement);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/","var Board = require(\"./linedash.js\");\n\nvar View = function($el) {\n  this.$el = $el;\n  this.board = new Board(50);\n  this.setupBoard(this.board.boardSize);\n  this.renderBoard();\n  this.showControls();\n\n  this.lost = false;\n  this.started = false;\n  this.counter = 1000;\n  this.obstacleInterval = 10;\n\n  $(window).on(\"keydown\", this.handleKeyEvent.bind(this));\n}\n\nView.prototype.setupBoard = function(boardSize) {\n  var $ul = $(\"<ul>\");\n\n  for (var i = 0; i < boardSize; i++) {\n    for (var j = 0; j < boardSize; j++) {\n      var $li = $(\"<li>\");\n      $li.attr(\"pos\", [i, j]);\n      if (i < 21 || i > 29) {\n        $li.addClass(\"wall\");\n      }\n      $ul.append($li);\n    }\n  };\n\n  this.$el.append($ul);\n\n  for (var i = 0; i < this.board.walls.length; i++) {\n    var $wall = $(\"[pos='\" + this.board.walls[i] + \"']\");\n    $wall.addClass(\"wall\");\n  };\n\n  var $center = $(\"[pos='\" + [this.board.middle, this.board.middle] + \"']\");\n  var $counter = $(\"<span>\");\n  $counter.addClass(\"counter\");\n  $center.append($counter);\n};\n\nView.prototype.renderBoard = function() {\n  var $obstacles = $(\".obstacle\");\n  $obstacles.removeAttr(\"class\");\n\n  var $oldDasher = $(\".dasher\");\n  $oldDasher.removeAttr(\"class\");\n\n  for (var i = 0; i < this.board.line.length; i++) {\n    var $line = $(\"[pos='\" + this.board.line[i] + \"']\");\n    $line.addClass(\"line\");\n  }\n\n  for (var i = 0; i < this.board.obstacles.length; i++) {\n    var $obstacle = $(\"[pos='\" + this.board.obstacles[i] + \"']\");\n    $obstacle.addClass(\"obstacle\");\n  }\n\n  var $dasher = $(\"[pos='\" + this.board.dasher + \"']\");\n  $dasher.addClass(\"dasher\");\n\n  var $counter = $(\".counter\");\n  $counter.text(this.counter);\n};\n\nView.prototype.showControls = function () {\n  var $div = $(\"<div>\");\n  $div.html(\"<h1>Linedash</h1>Enter: start/restart<br/>Spacebar: change sides\");\n  this.$el.append($div);\n};\n\nView.prototype.step = function() {\n  if (this.counter % this.obstacleInterval === 0) {\n    this.board.createObstacle();\n  }\n\n  this.counter += 1;\n  this.board.move();\n  this.renderBoard();\n\n  if (this.board.collision()) {\n    this.gameover();\n  }\n};\n\nView.prototype.gameover = function() {\n  this.lost = true;\n  this.showControls();\n  clearInterval(this.gameFrames);\n  var $ul = $(\"ul\");\n  $ul.addClass(\"pause\");\n};\n\nView.prototype.handleKeyEvent = function(e) {\n  if (!this.started && e.keyCode === 13) {\n    this.gameFrames = setInterval(this.step.bind(this), 35);\n    this.started = true;\n    $(\"div\").remove();\n    var $ul = $(\"ul\");\n    $ul.addClass(\"rotate\");\n  } else if (this.started && e.keyCode === 32) {\n    this.board.changeSides();\n  } else if (this.lost && e.keyCode === 13) {\n    location.reload();\n  }\n};\n\nmodule.exports = View;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/linedash-view.js\n ** module id = 1\n ** module chunks = 0\n **/","function Board (boardSize) {\n  this.boardSize = boardSize;\n  this.middle = boardSize / 2;\n\n  this.dasher = [this.middle - 1, this.middle - 7];\n  this.line = [];\n  this.obstacles = [];\n  this.walls = [];\n\n  this.createWalls();\n  this.createLine();\n};\n\nBoard.prototype.createLine = function () {\n  for (var i = 0; i < this.boardSize; i++) {\n    this.line.push([(this.middle), i])\n  }\n};\n\nBoard.prototype.createWalls = function () {\n  for (var i = 0; i < this.boardSize; i++) {\n    if (i % 2 === 1) {\n      this.walls.push([21, i]);\n      this.walls.push([29, i]);\n    }\n  }\n};\n\nBoard.prototype.createObstacle = function () {\n  if (Math.random() < 0.5) {\n    this.obstacles.push([this.middle - 1, this.boardSize - 1])\n  } else {\n    this.obstacles.push([this.middle + 1, this.boardSize - 1])\n  }\n};\n\nBoard.prototype.move = function () {\n  for (var i = 0; i < this.obstacles.length; i++) {\n    if (this.obstacles[i][1] === 0) {\n      this.obstacles.splice(i, 1);\n    } else {\n      this.obstacles[i][1] = this.obstacles[i][1] - 1;\n    }\n  }\n};\n\nBoard.prototype.collision = function () {\n  for (var i = 0; i < this.obstacles.length; i++) {\n    if (this.dasher[0] === this.obstacles[i][0] && this.dasher[1] === this.obstacles[i][1]) {\n      return true;\n    }\n  }\n  return false;\n};\n\nBoard.prototype.changeSides = function () {\n  if (this.dasher[0] === 24) {\n    this.dasher[0] = 26;\n  } else {\n    this.dasher[0] = 24;\n  }\n};\n\nmodule.exports = Board;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/linedash.js\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}